<section id="footer" class="category">
<div class="page-align">
  <% if(locals.error) { %>
    <div class="alert alert-danger" role="alert"><%= error %></div>
         <% } %>
    <form action="/category/AddedCategory" method="post">
        <div class="row mb-3">
            <label for="inputEmail" class="col-sm-2 col-form-label">Category</label>
            <div class="col-sm-5">
                <input type="text" name="name" class="form-control" id="username1"required >
               
                <span id="category-Error" style="color: red;"></span>
            </div>
            <div class="col-sm-5">
                <button class="btn btn-secondary" type="submit" class="form-control" id="check-submitCategory" required>Add</button><br>
             
                <span id="add-error" style="color: red;"></span>
                
                <a class="return-add-category" href=""></a>
            

            </div>
        </div>
        <p class="error"></p>
    </form>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th scope="col">Categories</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            <% getcategory.forEach(function(category, i){ %>
            <tr>
                <td><%= category.name %></td> 
                <td>
                    <a href="/category/EditCategory/<%= category._id%>"><button class="btn btn-secondary" id="my-button" onclick="myFunction(this.id)">Edit</button></a>
                    <a href="/category/DeleteCategory/<%= category._id%>"><button class="btn btn-secondary" onclick="return confirm('Are you sure you want to delete this file? This action cannot be undone.')",myFunction(this.id)>Remove</button></a>
                </td>
                <td>
                    <button type="button" class="badge bg-dark" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo" style="margin-top: 30px;" onclick="isIdPass('<%= category.name %>')">CreateOffer</button>
                </td> 
            </tr>
            <% }); %>

        </tbody>
    </table>
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel"> <P>RODUCT OFFER</P></h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form action="/category/AddCategoryOffer" method="post">
          
                <div class="row mb-3">
                  <label for="inputPassword" class="col-sm-2 col-form-label">Discount</label>
                  <div class="col-sm-10">
                      <input type="number" name="Discount"  class="form-control">
                      <input type="text" name="categoryname" id="catname" value="" hidden>
                      
                  </div>
              </div> 
              <div class="row mb-3">
                  <label for="inputDate" class="col-sm-2 col-form-label">End Date</label>
                  <div class="col-sm-10">
                      <input type="date" name="EndDate" class="form-control">
                  </div>
              </div>
                <div class="modal-footer">
                  <button type="submit" class="btn btn-secondary">AddOffer</button>
                 
                </div>
              </form>
            </div>
           
          </div>
        </div>
      </div>
</div>
</section>
<script>

  
let  categoryIput = document.getElementById("username1");
   categoryIput.addEventListener('keypress', (event)=>{    
     if(event.code=== "Space"){
      event.preventDefault(); 
    }
})
</script>
<script>
    function isIdPass(catname){
        
      console.log(catname);
      document.getElementById('catname').value = catname
     
  
      }
  </script>          
  <script src="/js/validation.js"></script>
 

